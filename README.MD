```markdown

# Auto Update Service for Kaspersky Archives
–°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏, –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ –∞—Ä—Ö–∏–≤–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π Kaspersky 
(–∏ –ª—é–±—ã—Ö –¥—Ä—É–≥–∏—Ö –ø–æ—Å—Ç–∞–≤–ª—è–µ–º—ã—Ö –≤ –∞—Ä—Ö–∏–≤–∞—Ö) —Å —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.
–£ –∑–∞–º–µ–Ω–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ez —Å–≤–æ–µ–≥–æ –∏–ª–∏ –Ω–∞ root
## –ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- üïµÔ∏è –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –Ω–æ–≤—ã—Ö –∞—Ä—Ö–∏–≤–æ–≤
- üì• –ó–∞–≥—Ä—É–∑–∫–∞ –∞—Ä—Ö–∏–≤–æ–≤ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- üì¶ –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
- üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram
- üóëÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ –∞—Ä—Ö–∏–≤–æ–≤
- üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –û–°: Linux
- –ü–∞–∫–µ—Ç—ã:
  ```bash
  sudo apt install curl wget unzip
  ```
- –ü—Ä–∞–≤–∞:
  ```bash
  sudo mkdir -p /srv/antivirus
  sudo chown -R ez:ez /srv/antivirus /home/ez/downloads
  ```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:
   ```bash
   sudo mkdir -p /opt/update-service
   sudo cp script.sh /opt/update-service/
   sudo chmod +x /opt/update-service/script.sh
   ```

2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `script.sh`:
   ```bash
   nano /opt/update-service/script.sh
   ```
   ```ini
   base_url="http://your-server/updates/"
   telegram_token="YOUR_BOT_TOKEN"
   telegram_chat_id="YOUR_CHAT_ID"
   ```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
1. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Ñ–∞–π–ª:
   ```bash
   sudo nano /etc/systemd/system/update-service.service
   ```
   ```ini
   [Unit]
   Description=Auto Update Service
   After=network.target

   [Service]
   Type=simple
   User=ez
   WorkingDirectory=/opt/update-service
   ExecStart=/bin/bash /opt/update-service/script.sh
   Restart=on-failure
   RestartSec=60s
   Environment="PATH=/usr/bin:/bin"

   [Install]
   WantedBy=multi-user.target
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:
   ```bash
   sudo systemctl daemon-reload
   sudo systemctl enable --now update-service.service
   ```

## Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather)
2. –ü–æ–ª—É—á–∏—Ç–µ ID —á–∞—Ç–∞ —á–µ—Ä–µ–∑ [@getidsbot](https://t.me/getidsbot)
3. –í—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Å–∫—Ä–∏–ø—Ç:
   ```bash
   telegram_token="123456:ABC-DEF1234ghI6l-zyx57W2v1u123ew11"
   telegram_chat_id="YOUR_CHAT_ID"
   ```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
```bash
journalctl -u update-service.service -f
tail -f /var/log/updater.log
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- üîí –•—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω Telegram –≤ –∑–∞—â–∏—â–µ–Ω–Ω–æ–º –º–µ—Å—Ç–µ
- üîë –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞:
  ```bash
  sudo chmod 640 /opt/update-service/script.sh
  sudo chown root:ez /opt/update-service/script.sh
  ```

## –ü—Ä–∏–º–µ—Ä—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
1. –°—Ç–∞—Ä—Ç —Å–∫—Ä–∏–ø—Ç–∞:
   ```
   üîÑ –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—â–µ–Ω! –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:  "http://your-server/updates/"
   ```
2. –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è:
   ```
   üîç –û–±–Ω–∞—Ä—É–∂–µ–Ω –Ω–æ–≤—ã–π –∞—Ä—Ö–∏–≤: KES_11_20250402.zip
   ```
3. –£—Å–ø–µ—à–Ω–∞—è —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞:
   ```
   üì¶ –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ —É—Å–ø–µ—à–Ω–∞:
   ‚îú‚îÄ –§–∞–π–ª–æ–≤: 142
   ‚îú‚îÄ –ú–µ—Å—Ç–æ –¥–æ:
   ‚îÇ  ‚îú‚îÄ –ó–∞–≥—Ä—É–∑–∫–∞: 15G
   ‚îÇ  ‚îî‚îÄ –†–∞—Å–ø–∞–∫–æ–≤–∫–∞: 28G
   ‚îî‚îÄ –ú–µ—Å—Ç–æ –ø–æ—Å–ª–µ:
      ‚îú‚îÄ –ó–∞–≥—Ä—É–∑–∫–∞: 14G
      ‚îî‚îÄ –†–∞—Å–ø–∞–∫–æ–≤–∫–∞: 27G
   ```

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
1. **–û—Ç–∫–∞–∑ –≤ –¥–æ—Å—Ç—É–ø–µ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏**:
   ```bash
   sudo chown -R ez:ez /home/ez/downloads
   sudo setfacl -Rm u:ez:rwX /srv/antivirus
   ```

2. **–û—à–∏–±–∫–∏ Telegram API**:
   ```bash
   curl -s "https://api.telegram.org/bot$TOKEN/getMe"
   ```

## –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License ¬© 2024 
```